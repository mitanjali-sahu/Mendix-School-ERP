!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("dojo/aspect"),require("mendix/lang"),require("dijit/registry"),require("dojo/_base/connect"));else if("function"==typeof define&&define.amd)define(["react","dojo/aspect","mendix/lang","dijit/registry","dojo/_base/connect"],t);else{var i="object"==typeof exports?t(require("react"),require("dojo/aspect"),require("mendix/lang"),require("dijit/registry"),require("dojo/_base/connect")):t(e.react,e["dojo/aspect"],e["mendix/lang"],e["dijit/registry"],e["dojo/_base/connect"]);for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(window,function(e,t,i,o,n){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=25)}([function(t,i){t.exports=e},function(e,t,i){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&e.push(a)}else if("object"===r)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},function(e,t,i){var o;void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.parseStyle=function(e){void 0===e&&(e="");try{return e.split(";").reduce(function(e,t){var i=t.split(":");2===i.length&&(e[i[0].trim().replace(/(-.)/g,function(e){return e[1].toUpperCase()})]=i[1].trim());return e},{})}catch(t){window.console.log("Failed to parse style",e,t)}return{}},e.validateCompatibility=function(e){var t=e.listViewEntity,i=e.targetListView,o=i&&i.datasource&&i.datasource.type;if(!i){var n="This widget is unable to find a list view ";return n+=t?"with the supplied entity '"+t+"'":"to connect"}return o&&"database"!==o&&"xpath"!==o?"This widget is only compatible with list view data source type 'Database' and 'XPath'":i&&i._datasource&&i._entity&&i.update?i._entity&&void 0!==t&&t!==i._entity?'The supplied entity "'+e.listViewEntity+'" does not belong to list view data source':"":"This widget version is not compatible with this Mendix version"},e.findTargetNode=function(e){for(var t=null;!t&&e&&!((t=e.querySelectorAll(".mx-listview")[0])||e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"));)e=e.parentNode;return t},e}();t.SharedUtils=i}.apply(t,[i,t]))||(e.exports=o)},function(e,t,i){var o,n;o=[i,t,i(9)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.findTargetListView=function(e,t){for(var o;e;){for(var n=e.querySelectorAll(".mx-listview"),r=0;r<n.length;r++){if((o=i.byNode(n.item(r)))&&!t)return o;if(o&&o._entity===t)return o}if(e.isEqualNode(document)||!e.classList||e.classList.contains("mx-incubator")||e.classList.contains("mx-offscreen"))break;e=e.parentNode}return o},e}();t.SharedContainerUtils=o}.apply(t,o))||(e.exports=n)},function(e,i){e.exports=t},function(e,t,i){var o;void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideLoadMoreButton=function(e){e&&e.classList.add("hide-load-more")},t.showLoadMoreButton=function(e){e&&e.domNode.classList.remove("hide-load-more")},t.resetListViewHeight=function(e){var t=e.querySelector("ul");t.style.removeProperty("height"),t.style.removeProperty("overflow")},t.persistListViewHeight=function(e){var t=e.querySelector("ul");t.offsetHeight>0&&(t.style.height=t.offsetHeight+"px",t.style.overflow="hidden")},t.getListNode=function(e){return e.querySelector("ul")},t.setListNodeToEmpty=function(e){logger.debug("setListNodeToEmpty");for(var t=e.querySelector("ul");t.firstChild;)t.removeChild(t.firstChild)},t.showLoader=function(e){logger.debug("showLoader"),e.domNode.classList.add("widget-pagination-loading")},t.hideLoader=function(e){logger.debug("hideLoader"),e.domNode.classList.remove("widget-pagination-loading")},t.mxTranslation=function(e,t,i){var o=mx.session.getConfig("uiconfig.translations."+e+"."+t)||window.mx.session.getConfig("uiconfig.translations")[e+"."+t]||"[No translation]";return i.reduce(function(e,t,i){return e.split("{"+(i+1)+"}").join(t)},o)}}.apply(t,[i,t]))||(e.exports=o)},function(e,t){e.exports=i},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=function(e){var t=e.bootstrapStyle,n=e.className,r=e.children;return r?i.createElement("div",{className:o("alert alert-"+t,n)},r):null},t.Alert.displayName="Alert",t.Alert.defaultProps={bootstrapStyle:"danger"}}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(4),i(2),i(3),i(5),i(10),i(38)],void 0===(n=function(e,t,i,o,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.initialLoad=!0,this.delay=50,this.store={constraints:{_none:{}},sorting:{}},this.updateInProgress=!1,this.requiresUpdate=!1,this.sorting=[],this.constraints=[],this.widget=e,this.originalSort=window.mx.isOffline()?this.widget._datasource._sort:this.widget._datasource._sorting,i.after(e,"storeState",function(t){logger.debug("after storeState"),e.__customWidgetDataSourceHelper&&(t("lvcSorting",e.__customWidgetDataSourceHelper.sorting),t("lvcConstraints",e.__customWidgetDataSourceHelper.constraints),t("lvcPaging",e.__customWidgetDataSourceHelper.paging))},!0)}return e.getInstance=function(t,i){var r=t&&t.parentElement,a=n.SharedContainerUtils.findTargetListView(r,i),s=o.SharedUtils.validateCompatibility({listViewEntity:i,targetListView:a});if(!s&&a)return a.__customWidgetDataSourceHelper||(a.__customWidgetDataSourceHelper=new e(a)),a.getState("lvcPersistState",!1)||this.hideContent(a.domNode),a.__customWidgetDataSourceHelper;throw new Error(s)},e.prototype.setSorting=function(e,t,i){void 0===i&&(i=!1),this.store.sorting={},this.store.sorting[e]=t,this.registerUpdate(i)},e.prototype.setConstraint=function(e,t,i,o){var n;void 0===i&&(i="_none"),void 0===o&&(o=!1);var r=i.trim()||"_none";this.store.constraints[r]?this.store.constraints[r][e]=t:this.store.constraints[r]=((n={})[e]=t,n),this.registerUpdate(o)},e.prototype.getListView=function(){return this.widget},e.prototype.registerUpdate=function(e){var t=this;logger.debug("DataSourceHelper .registerUpdate"),this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.updateInProgress?this.requiresUpdate=!0:this.timeoutHandle=window.setTimeout(function(){logger.debug("DataSourceHelper .execute"),t.updateInProgress=!0,t.iterativeUpdateDataSource(e)},this.delay)},e.prototype.iterativeUpdateDataSource=function(e){var t=this;this.updateDataSource(function(){t.requiresUpdate?(t.requiresUpdate=!1,t.iterativeUpdateDataSource(e)):t.updateInProgress=!1},e)},e.prototype.updateDataSource=function(t,i){var o=this,n=[],r=Object.keys(this.store.sorting).map(function(e){return o.store.sorting[e]}).filter(function(e){return e[0]&&e[1]});if(r.length||(r=this.originalSort),window.mx.isOffline()){for(var a=Object.keys(this.store.constraints._none).map(function(e){return o.store.constraints._none[e]}),s=a.filter(function(e){return e.value}),u=a.filter(function(e){return e.operator}),c=[],p=0,l=Object.keys(this.store.constraints).filter(function(e){return"_none"!==e});p<l.length;p++){for(var d=l[p],g=[],f=0,h=Object.keys(this.store.constraints[d]);f<h.length;f++){var m=h[f],v=this.store.constraints[d][m];v&&v.value&&g.push(v)}g.length&&c.push({constraints:g,operator:"or"})}n=s.concat(u,c)}else{n=(s=Object.keys(this.store.constraints._none).map(function(e){return o.store.constraints._none[e]}).join(""))+(c=Object.keys(this.store.constraints).filter(function(e){return"_none"!==e}).map(function(e){return"["+Object.keys(o.store.constraints[e]).map(function(t){return o.store.constraints[e][t]}).filter(function(e){return e}).map(function(e){return e.trim().substr(1,e.trim().length-2)}).join(" or ")+"]"}).join("").replace(/\[]/g,""))}this.sorting=r,this.constraints=n,i?(e.showContent(this.widget.domNode),this.hideLoader(),this.initialLoad=!1,t()):(this.widget._datasource._constraints=n,window.mx.isOffline()?this.widget._datasource._sort=r:this.widget._datasource._sorting=r,logger.debug("DataSourceHelper .set sort and constraint"),this.initialLoad||this.showLoader(),this.widget.update(null,function(){logger.debug("DataSourceHelper .updated"),o.hideLoader(),o.initialLoad=!1,t()}))},e.prototype.showLoader=function(){this.widget.domNode.classList.add("widget-data-source-helper-loading")},e.hideContent=function(e){e&&e.classList.add("widget-data-source-helper-initial-loading")},e.showContent=function(e){e&&e.classList.remove("widget-data-source-helper-initial-loading")},e.prototype.hideLoader=function(){this.widget.domNode.classList.remove("widget-data-source-helper-loading"),e.showContent(this.widget.domNode)},e.prototype.setPaging=function(e,t){var i=this,o=this.widget._datasource;if(!this.widget.__customWidgetPagingLoading){var n=!1;void 0!==e&&e!==o.getOffset()&&(this.widget.__customWidgetPagingOffset=e,o.setOffset(e),n=!0),void 0!==t&&t!==o.getPageSize()&&(o.setPageSize(t),n=!0),this.paging={pageSize:void 0!==t?t:o.getPageSize(),offset:void 0!==e?e:o.getOffset()},n&&(logger.debug(".updateDatasource changed",e,t),this.widget.__customWidgetPagingLoading=!0,this.showLoader(),this.widget.sequence(["_sourceReload","_renderData"],function(){i.widget.__customWidgetPagingLoading=!1,r.resetListViewHeight(i.widget.domNode),logger.debug(".updateDatasource updated"),i.hideLoader()}))}},e}();t.DataSourceHelper=a}.apply(t,o))||(e.exports=n)},function(e,t){e.exports=o},function(e,t,i){var o;void 0===(o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(){var e=mxui.widget.ListView;function t(e){if(!(!e||"database"===e.datasource.type||"xpath"===e.datasource.type))return!1;var t=!!(e&&("database"===e.datasource.type||"xpath"===e.datasource.type)&&e._datasource&&e._datasource.reload&&e._datasource.setOffset&&e._datasource.setPageSize&&void 0!==e._datasource._constraints&&(e._datasource._sorting||e._datasource._sort)&&e._datasource.getSetSize&&e._datasource.getOffset);return t||logger.error("This Mendix version is not compatible with list view controls. The List view controls use is limited."),t}!e.prototype.__lvcPrototypeUpdated&&function(e){var t=!!(e&&e.postCreate&&e._loadData&&e.getState&&e._onLoad&&e._renderData);t||logger.error("This Mendix version is not compatible with list view controls. The List view prototype could not be updated.");return t}(e.prototype)?(e.prototype.__lvcPrototypeUpdated=!0,e.prototype.__postCreateOriginal=e.prototype.postCreate,e.prototype.postCreate=function(){if(logger.debug("list view control, overwrites postCreate prototype"),this.__postCreateOriginal(),t(this)){var e=this.getState("lvcPaging");e&&(void 0!==e.offset&&this._datasource.setOffset(e.offset),void 0!==e.pageSize&&this._datasource.setPageSize(e.pageSize));var i=this.getState("lvcSorting");i&&(this._datasource._sorting=i);var o=this.getState("lvcConstraints");o&&(this._datasource._constraints=o)}},e.prototype.__loadDataOriginal=e.prototype._loadData,e.prototype._loadData=function(e){var i=this;logger.debug("List view control, overwrites _loadData prototype"),t(this)?(this.__lvcPagingEnabled&&this._datasource.setOffset(0),this._datasource.reload(function(){var t=i._datasource.getOffset();if(t&&i._datasource.getSetSize()<=t)return i._datasource.setOffset(0),void i._loadData(e);i._renderData(function(){i._onLoad(),e&&e()})})):this.__loadDataOriginal(e)}):logger.debug("Prototype update called unexpected again")}()}.apply(t,[i,t]))||(e.exports=o)},function(e,t,i){var o,n;o=[i,t,i(12)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,o){this.form=e,this.widgetId=t,this.persistHandle=i.connect(e,"onPersistViewState",null,function(e){var i=e[t]||(e[t]={});o(i)})}return e.prototype.getPageState=function(e,t){var i=this.form,o=i&&i.viewState?i.viewState[this.widgetId]:void 0,n=o&&void 0!==o[e]?o[e]:t;return logger.debug("getPageState",this.widgetId,e,t,n),n},e.prototype.destroy=function(){i.disconnect(this.persistHandle)},e}();t.FormViewState=o}.apply(t,o))||(e.exports=n)},function(e,t){e.exports=n},,,,,,,,,,,,,function(e,t,i){(function(e){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});o=[i,t,i(0),i(27),i(1),i(6),i(4),i(7),i(2),i(3),i(8),i(5),i(29),i(35),i(11),i(53)],void 0===(n=function(t,i,o,n,r,s,u,c,p,l,d,g,f,h,m){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var v=function(e){function t(t){var i=e.call(this,t)||this;i.widgetDom=null,i.retriesFind=0,i.initialLoading=!0,logger.debug(i.props.friendlyId,".constructor"),i.updateListView=i.updateListView.bind(i);var o=i.props.uniqueid||i.props.friendlyId;return i.viewStateManager=new m.FormViewState(i.props.mxform,o,function(e){if(i.state.validationPassed){var t=i.state.targetListView._datasource;e.pageSize=t.getPageSize()||i.state.pageSize,e.offset=t.getOffset()||i.state.offset,e.isPersisted=!0}}),i.state={alertMessage:h.Validate.validateProps(i.props),pageSize:i.viewStateManager.getPageState("pageSize",void 0),offset:i.viewStateManager.getPageState("offset",0),isPersisted:i.viewStateManager.getPageState("isPersisted",!1)},i}return a(t,e),t.prototype.componentDidMount=function(){logger.debug(this.props.friendlyId,".componentDidMount"),s.delay(this.connectToListView.bind(this),this.checkListViewAvailable.bind(this),20)},t.prototype.render=function(){var e=this;return logger.debug(this.props.friendlyId,".render"),o.createElement("div",{className:r("widget-pagination",this.props.class),ref:function(t){return e.widgetDom=t},style:p.SharedUtils.parseStyle(this.props.style)},o.createElement(c.Alert,{className:"widget-pagination-alert"},this.state.alertMessage),this.renderPageButton())},t.prototype.componentWillUnmount=function(){logger.debug(this.props.friendlyId,".componentWillUnmount"),g.showLoadMoreButton(this.state.targetListView),this.viewStateManager.destroy()},t.translateMessageStatus=function(e,t,i){return g.mxTranslation("mendix.lib.MxDataSource","status",[""+e,""+t,""+i])},t.prototype.checkListViewAvailable=function(){return logger.debug(this.props.friendlyId,".checkListViewAvailable"),!!this.widgetDom&&(this.retriesFind++,this.retriesFind>25||!!l.SharedContainerUtils.findTargetListView(this.widgetDom.parentElement))},t.prototype.renderPageButton=function(){if(logger.debug(this.props.friendlyId,".renderPageButton"),this.state.validationPassed&&this.state.pageSize&&this.state.targetListView._datasource.getSetSize()>0){var e=this.state,i=e.offset,n=e.pageSize;return logger.debug(this.props.friendlyId,".renderPageButton pagesize, offset, listsize",n,i,this.state.targetListView._datasource.getSetSize()),o.createElement(f.Pagination,{getMessageStatus:t.translateMessageStatus,hideUnusedPaging:this.props.hideUnusedPaging,items:this.props.items,listViewSize:this.state.targetListView._datasource.getSetSize(),pageSize:n,offset:i,onChange:this.updateListView,pagingStyle:this.props.pagingStyle,pageSizeOptions:this.props.pageSizeOptions})}return null},t.prototype.updateListView=function(e,t){logger.debug(this.props.friendlyId,".updateListView"),this.state.validationPassed&&(this.setState({offset:void 0!==e?e:this.state.offset,pageSize:void 0!==t?t:this.state.pageSize}),this.dataSourceHelper.setPaging(e,t))},t.prototype.connectToListView=function(){var e,t="";try{this.dataSourceHelper=d.DataSourceHelper.getInstance(this.widgetDom),e=this.dataSourceHelper.getListView()}catch(e){t=e.message}e&&d.DataSourceHelper.showContent(e.domNode);var i=!t;this.setState({alertMessage:t,targetListView:e,validationPassed:i}),i&&e&&(e.__lvcPagingEnabled=!0,g.hideLoadMoreButton(e.domNode),this.beforeListViewDataRender(e),this.afterListViewDataRender(e),e._renderData())},t.prototype.beforeListViewDataRender=function(e){var t=this;logger.debug(this.props.friendlyId,".beforeListViewDataRender"),u.before(e,"_renderData",function(){logger.debug(t.props.friendlyId,"_renderData.before");var i=e._datasource;if(0!==i.getSetSize()){if(t.setState({listSize:i.getSetSize()}),t.initialLoading)t.afterListViewLoaded(e),t.initialLoading=!1;else{if(t.state.isPersisted&&void 0!==t.state.pageSize){e._datasource.getPageSize()!==t.state.pageSize&&e._datasource.setPageSize(t.state.pageSize);var o=t.correctOffset(t.state.offset,e._datasource.getSetSize());t.setState({offset:o}),t.setState({isPersisted:!1}),e._renderData()}if(e.__customWidgetPagingLoading)t.setState({offset:i.getOffset(),pageSize:i.getPageSize(),listSize:i.getSetSize()});else{logger.debug(t.props.friendlyId,".initialLoading False, pagingLoading False");var n=t.state.offset,r=i.getSetSize();o=n;n!==i.getOffset()&&(r>n?t.dataSourceHelper.setPaging(o):(o=0,e.__customWidgetPagingOffset=o));var a=i.getPageSize();t.state.offset===o&&t.state.pageSize===a&&t.state.listSize===r||(t.setState({offset:o,pageSize:a,listSize:r}),t.dataSourceHelper.setPaging(o,a))}}g.persistListViewHeight(e.domNode),g.setListNodeToEmpty(e.domNode)}else t.setState({listSize:i.getSetSize()})})},t.prototype.afterListViewLoaded=function(e){logger.debug(this.props.friendlyId,".afterListViewLoad");var t=e._datasource,i=this.state.pageSize?this.state.pageSize:t.getPageSize()&&t.getPageSize()||10;this.state.pageSize||this.setState({pageSize:i});var o=this.correctOffset(this.state.offset,t.getSetSize());this.dataSourceHelper.setPaging(o,i)},t.prototype.afterListViewDataRender=function(e){var t=this;logger.debug(this.props.friendlyId,".afterListViewDataRender"),u.after(e,"_renderData",function(){logger.debug(t.props.friendlyId,"_renderData.after"),g.resetListViewHeight(e.domNode)})},t.prototype.correctOffset=function(e,t){return e<t?e:0},t}(o.Component);i.default=n.hot(e)(v)}.apply(t,o))||(e.exports=n)}).call(this,i(26)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";e.exports=i(28)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=i(0))&&"object"==typeof o&&"default"in o?o.default:o;t.AppContainer=function(e){return n.Children.only(e.children)},t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,i){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};o=[i,t,i(0),i(1),i(30),i(31),i(34)],void 0===(n=function(e,t,i,o,n,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentOffset:t.props.offset},t.firstPageClickAction=function(){t.setState({currentOffset:0}),t.props.onChange(0)},t.nextPageClickAction=function(){var e=t.state.currentOffset+t.props.pageSize;t.setState({currentOffset:e}),t.props.onChange(e)},t.previousPageClickAction=function(){var e=Math.max(t.state.currentOffset-t.props.pageSize,0);t.setState({currentOffset:e}),t.props.onChange(e)},t.lastPageClickAction=function(){var e=t.props,i=e.pageSize,o=e.listViewSize,n=o%i==0?o-i:o-o%i;n>0&&t.setState({currentOffset:n}),t.props.onChange(n)},t.updatePagination=function(e){var i=(e-1)*t.props.pageSize;t.state.currentOffset!==i&&(t.setState({currentOffset:i}),t.props.onChange(i))},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.listViewSize,n=e.pageSize,r=e.hideUnusedPaging,a=!r||r&&t>n;return i.createElement("div",{className:o("pagination",a?"visible":"hidden")},this.renderPagination())},t.prototype.componentWillReceiveProps=function(e){this.setState({currentOffset:e.offset})},t.prototype.renderPagination=function(){if("default"===this.props.pagingStyle)return this.renderDefault();if("pageNumberButtons"===this.props.pagingStyle){var e=this.props,t=e.listViewSize,o=e.pageSize,n=Math.ceil(t/o),a=this.getPageNumber(this.state.currentOffset,o,t);return[i.createElement(r.PageNumberView,{maxPageButtons:7,onClickAction:this.updatePagination,pageCount:n,selectedPageNumber:a})]}return this.renderCustom()},t.prototype.getPageNumber=function(e,t,i){return e<i?e/t+1:1},t.prototype.renderDefault=function(){return[this.createFirstButton(),this.createPreviousButton(),this.createMessage(),this.createNextButton(),this.createLastButton()]},t.prototype.renderCustom=function(){var e=this;return this.props.items.map(function(t){var o={buttonCaption:t.buttonCaption,buttonType:t.item,showIcon:t.showIcon,text:t.text};if("firstButton"===o.buttonType)return e.createFirstButton(o);if("nextButton"===o.buttonType)return e.createNextButton(o);if("previousButton"===o.buttonType)return e.createPreviousButton(o);if("lastButton"===o.buttonType)return e.createLastButton(o);if("text"===o.buttonType)return e.createMessage(o.text);if("pageNumberButtons"===o.buttonType){var n=e.props,a=n.listViewSize,s=n.pageSize,c=Math.ceil(a/s),p=e.getPageNumber(e.state.currentOffset,s,a);return i.createElement(r.PageNumberView,{maxPageButtons:t.maxPageButtons,onClickAction:e.updatePagination,pageCount:c,selectedPageNumber:p})}if("pageSize"===o.buttonType){var l=e.props,d=(a=l.listViewSize,s=l.pageSize,e.getPageNumber(e.state.currentOffset,s,a));return i.createElement(u.PageSizeSelect,{onChange:e.props.onChange,pageSize:e.props.pageSize,sizeOptions:e.props.pageSizeOptions,listViewSize:a,currentPage:d})}})},t.prototype.createFirstButton=function(e){var o=this.state.currentOffset<=0;return i.createElement(n.PageButton,s({},e,{buttonType:"firstButton",isDisabled:o,onClickAction:this.firstPageClickAction,showIcon:t.getShowIcon(e)}))},t.prototype.createPreviousButton=function(e){var o=this.state.currentOffset<=0;return i.createElement(n.PageButton,s({},e,{buttonType:"previousButton",isDisabled:o,onClickAction:this.previousPageClickAction,showIcon:t.getShowIcon(e)}))},t.prototype.createNextButton=function(e){var o=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(n.PageButton,s({},e,{buttonType:"nextButton",isDisabled:o,onClickAction:this.nextPageClickAction,showIcon:t.getShowIcon(e)}))},t.prototype.createLastButton=function(e){var o=this.state.currentOffset+this.props.pageSize>=this.props.listViewSize;return i.createElement(n.PageButton,s({},e,{buttonType:"lastButton",isDisabled:o,onClickAction:this.lastPageClickAction,showIcon:t.getShowIcon(e)}))},t.prototype.createMessage=function(e){return e=this.getMessageStatus(e),i.createElement("button",{className:"paging-status"},e)},t.prototype.getMessageStatus=function(e){var t=this.state.currentOffset,i=this.props,o=i.listViewSize,n=i.pageSize,r=t+1,a=0;if(0===o?r=0:a=o<n||t+n>o?o:t+n,e){var s=n&&0!==n?Math.ceil(o/n):o,u=Math.ceil(o/n);return e.replace("{firstItem}",r.toString()).replace("{lastItem}",a.toString()).replace("{totalItems}",o.toString()).replace("{currentPageNumber}",u.toString()).replace("{totalPages}",s.toString())}return this.props.getMessageStatus(r,a,o)},t.getShowIcon=function(e){return e?e.showIcon:"default"},t}(i.Component);t.Pagination=c}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageButton=function(e){var t="",n="",r={disabled:e.isDisabled},a=e.isDisabled?function(){}:e.onClickAction;return"firstButton"===e.buttonType?(n="btn mx-button mx-name-paging-first",t="glyphicon glyphicon-step-backward"):"previousButton"===e.buttonType?(n="btn mx-button mx-name-paging-previous",t="glyphicon glyphicon-backward"):"nextButton"===e.buttonType?(n="btn mx-button mx-name-paging-next",t="glyphicon glyphicon-forward"):"lastButton"===e.buttonType&&(n="btn mx-button mx-name-paging-last",t="glyphicon glyphicon-step-forward"),"default"===e.showIcon?e.buttonCaption?"firstButton"===e.buttonType||"previousButton"===e.buttonType?i.createElement("button",{className:o(n,r),onClick:a},i.createElement("span",{className:t}),i.createElement("span",{className:e.buttonType},e.buttonCaption)):i.createElement("button",{className:o(n,r),onClick:a},i.createElement("span",{className:e.buttonType},e.buttonCaption),i.createElement("span",{className:t})):i.createElement("button",{className:o(n,r),onClick:a},i.createElement("span",{className:t})):"none"===e.showIcon&&e.buttonCaption?i.createElement("button",{className:o(n,r),onClick:a},i.createElement("span",{className:o(e.buttonType,"")},e.buttonCaption)):null},t.PageButton.displayName="PageButton"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(32),i(33)],void 0===(n=function(e,t,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberView=function(e){var t=[],r=e.selectedPageNumber,a=e.onClickAction;if(e.pageCount<=e.maxPageButtons)for(var s=1;s<=e.pageCount;s++)t.push(n.PageNumberButton({pageNumber:s,selectedPageNumber:r,onClickAction:a}));else{var u=Math.ceil(e.maxPageButtons/2),c=Math.floor(e.maxPageButtons/2),p=e.selectedPageNumber>u,l=e.selectedPageNumber<e.pageCount-c,d=1,g=1;if(!p&&l)d=2,g=e.maxPageButtons-2;else if(p&&l){var f=Math.floor((e.maxPageButtons-4)/2),h=Math.ceil((e.maxPageButtons-4)/2)-1;d=e.selectedPageNumber-f,g=e.selectedPageNumber+h}else p&&!l&&(d=e.pageCount-(e.maxPageButtons-3),g=e.pageCount-1);t.push(n.PageNumberButton({pageNumber:1,selectedPageNumber:r,onClickAction:a})),p&&t.push(i.createElement(o.BreakView,{}));for(s=d;s<=g;s++)t.push(n.PageNumberButton({pageNumber:s,selectedPageNumber:r,onClickAction:a}));l&&t.push(i.createElement(o.BreakView,{})),t.push(n.PageNumberButton({pageNumber:e.pageCount,selectedPageNumber:r,onClickAction:a}))}return i.createElement("ul",{},t)}}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakView=function(){return i.createElement("li",{className:o("break-view")},"...")},t.BreakView.displayName="BreakView"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0),i(1)],void 0===(n=function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNumberButton=function(e){return i.createElement("li",{className:o(e.selectedPageNumber===e.pageNumber?"active":"",e.pageNumber<10?"single-digit":""),onClick:function(){return e.onClickAction(e.pageNumber)}},e.pageNumber)},t.PageNumberButton.displayName="PageNumberButton"}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n,r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};o=[i,t,i(0)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateOffSet=function(e,t,i){var o=Math.ceil(e/t);return{newOffSet:((i>=1&&i<=o?i:1)-1)*t,newPageSize:t}};var o=function(e){function o(i){var n=e.call(this,i)||this;return n.pageSizeSelectDom=null,n.handleOnChange=function(e){var i=n.props.listViewSize,o=n.filters.find(function(t){return t.selectedValue===e.currentTarget.value}).size;n.setState({selectedValue:e.currentTarget.value,pageSize:o});var r=t.calculateOffSet(i,o,n.props.currentPage);n.props.onChange(r.newOffSet,r.newPageSize)},n.state={selectedValue:o.getSelectedValue(i.sizeOptions,i.pageSize),pageSize:i.pageSize},n.filters=n.props.sizeOptions.map(function(e,t){return s({},e,{selectedValue:""+t})}),n}return a(o,e),o.prototype.render=function(){return i.createElement("div",{className:"page-size"},this.renderDropDown())},o.prototype.componentWillReceiveProps=function(e){if(this.defaultPageSize||(this.defaultPageSize=e.pageSize),e.pageSize!==this.props.pageSize){var t=o.getSelectedValue(e.sizeOptions,e.pageSize);t!==this.state.selectedValue&&this.setState({selectedValue:t})}},o.prototype.componentDidUpdate=function(e,t){"-1"===this.state.selectedValue&&this.pageSizeSelectDom&&(this.pageSizeSelectDom.selectedIndex=-1)},o.prototype.renderDropDown=function(){var e=this;return i.createElement("select",{className:"form-control",onChange:this.handleOnChange,value:this.state.selectedValue,ref:function(t){return e.pageSizeSelectDom=t}},o.createOptions(this.filters))},o.getSelectedValue=function(e,t){return""+e.indexOf(e.find(function(e){return e.size===t}))},o.createOptions=function(e){return e.map(function(e,t){return i.createElement("option",{className:"",key:t,label:e.caption,value:e.selectedValue},e.caption)})},o}(i.Component);t.PageSizeSelect=o}.apply(t,o))||(e.exports=n)},function(e,t,i){var o,n;o=[i,t,i(0)],void 0===(n=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.validateProps=function(e){var t=[];return"custom"===e.pagingStyle&&(e.items.length<1&&t.push("custom style should have at least one item"),e.items.forEach(function(e,i){var o=i+1;"pageNumberButtons"===e.item&&(!e.maxPageButtons||e.maxPageButtons<7)&&t.push("Custom item "+o+" Number of page buttons should 7 or larger"),"text"!==e.item||e.text||t.push("Custom item "+o+" text requires a 'Text with placeholder'"),("firstButton"===e.item||"lastButton"===e.item||"nextButton"===e.item||"previousButton"===e.item)&&"none"===e.showIcon&&!e.buttonCaption&&t.push("Custom item "+o+" Custom button requires an caption or icon")}),e.pageSizeOptions.forEach(function(e,i){e.size<1&&t.push("Custom 'Page size' at item "+(i+1)+" should be larger than 0")})),t.length?i.createElement("div",{},"Configuration error in widget:",t.map(function(e,t){return i.createElement("p",{key:t},e)})):""},e}();t.Validate=o}.apply(t,o))||(e.exports=n)},,,function(e,t){},,,,,,,,,,,,,,,function(e,t){}])});